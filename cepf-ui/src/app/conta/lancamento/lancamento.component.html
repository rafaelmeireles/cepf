<section>
  <div class="section-body">
    <form class="form" name="formulario" #form="ngForm" accept-charset="utf-8" (ngSubmit)="lancamentoManual()">

      <af-edit-fields [title]="'Lançamento Contábil Manual'" [fullTitle]="true" [baseRoute]="'/'" [component]="this">
        <div fields>
          <card [label]="'Dados Gerais'">
            <div body>
              <div class="row">
                <form-group [columnClass]="'col-sm-6'" [label]="'Data de Referência'" [datepicker]="pickerData">
                  <ng-container date>
                    <input class="form-control" type="text" name="dataDeReferencia" [(ngModel)]="instance.dataDeReferencia"
                           [matDatepicker]="pickerData" (focus)="pickerData.open()">
                    <mat-datepicker-toggle style="display: none;" matSuffix [for]="pickerData"></mat-datepicker-toggle>
                    <mat-datepicker #pickerData></mat-datepicker>
                  </ng-container>
                </form-group>
              </div>
              <div class="row">
                <af-autocomplete [columnClass]="'col-sm-6'" [label]="'Conta de Crédito'" [fieldToDisplay]="'nome'"
                                 [observableDataSource]="observableContaContabilCredito" [displayWith]="displayAutocompleteContaCredito"
                                 (onSelect)="instance.conta = $event">
                </af-autocomplete>

                <af-autocomplete [columnClass]="'col-sm-6'" [label]="'Conta de Débito'" [fieldToDisplay]="'nome'"
                                 [observableDataSource]="observableContaContabilDebito" [displayWith]="displayAutocompleteContaDebito"
                                 (onSelect)="instance.contraPartida.conta = $event">
                </af-autocomplete>
              </div>
              <div class="row">
                <af-autocomplete [columnClass]="'col-sm-6'" [label]="'Tipo de Lançamento'" [fieldToDisplay]="'nome'"
                                 [observableDataSource]="observableTipoDeLancamento" [displayWith]="displayAutocompleteTipoLancamento"
                                 (onSelect)="instance.tipoLancamentoContabil = $event">
                </af-autocomplete>
                <form-group [columnClass]="'col-sm-6'" [label]="'Valor'" [input]="valor">
                  <input class="form-control" type="text" name="valor" [(ngModel)]="instance.valor" currencyMask
                         [options]="{prefix: 'R$ ', thousands: '.', decimal: ',', align: 'left'}" #valor="ngModel" input required>
                </form-group>
              </div>
              <div class="row">
                <form-group [columnClass]="'col-sm-12'" [label]="'Histórico'">
                        <textarea class="form-control" type="text" name="historico" rows="5"
                                  [(ngModel)]="instance.historico" input></textarea>
                </form-group>
              </div>
            </div>
          </card>
        </div>
      </af-edit-fields>

    </form>
  </div>
</section>
